[pytest]
# Security Tests Configuration
DJANGO_SETTINGS_MODULE = config.settings

# Test discovery
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Async support
asyncio_mode = auto

# Test markers
markers =
    critical: Critical security tests
    important: Important security tests
    llm: LLM security tests
    config: Configuration security tests
    auth: Authentication security tests
    injection: Injection prevention tests

# Test output and reporting
addopts =
    -v
    --tb=short
    --strict-markers
    --junit-xml=results/junit.xml
    --html=results/report.html
    --self-contained-html
    --json-report
    --json-report-file=results/report.json
    --json-report-indent=2

# Environment variables
env =
    LANGCHAIN_TRACING_V2=false
    LANGCHAIN_API_KEY=
    DJANGO_ALLOW_ASYNC_UNSAFE=true
